<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bulma@0.9.0/css/bulma.min.css"
    />

    <link rel="stylesheet" href="/vendor/normalize-4.1.1.css" type="text/css" />
    <link rel="stylesheet" href="/vendor/border-box.css" type="text/css" />
    <link rel="stylesheet" href="/styles/layout.css" type="text/css" />
    <link rel="stylesheet" href="/styles/navbar.css" type="text/css" />
    <link rel="stylesheet" href="/styles/searchBar.css" type="text/css" />

    <script
      defer
      src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"
    ></script>
    <script type="text/javascript" src="/vendor/jquery-3.0.0.js"></script>
    <script type="text/javascript" src="/scripts/app.js"></script>
    <script type="text/javascript" src="/scripts/navbar_responsive.js"></script>
    <script
      type="text/javascript"
      src="/scripts/category_responsive.js"
    ></script>
  </head>
  <style>
    @media only screen and (max-width: 600px) {

    .hidden{
      display:none;
    }
  }
  </style>

  <body>
    <% if(!searchbar){%>
    <form id="search" method="GET" action="/api/listings" class="m-3">
      <div class="form-row row">
        <div class="form-group col-md-4">
          <input type="text" class="form-control" id="search_query" name='q' placeholder="search for items..">
        </div>

        <div class="form-group col-md-5 hidden">
          <select id="search_category" class="form-control" name='category'>
            <option selected>Categories...</option>
            <option value="cars">Car</option>
            <option value="furniture">Furniture</option>
            <option value="books">Book</option>
            <option value="electronics">Electronic</option>
            <option value="outdoor">Outdoor</option>
            <option value="toys">Toys</option>
            <option value="services">Services</option>
            <option value="apartments">Apartments</option>
          </select>
        </div>

        <div class="form-group col-md-1 col-6 hidden">
          <input type="number" class="form-control" id="search_min" name='min' value="0">
          <small id="priceMinHelper" class="form-text text-muted">Min $</small>
        </div>

        <div class="form-group col-md-1 col-6 hidden">
          <input type="number" class="form-control" id="search_max" name='max' value="9999">
          <small id="priceMaxHelper" class="form-text text-muted">Max $</small>
        </div>

        <div class="form-group col-md-1 hidden">
          <button type="submit" class="btn btn-primary">Search</button>
      </div>

    </div>
  </form>
  <%}else{%>

    <form id="search" method="GET" action="/api/listings" class="m-3">
      <div class="form-row row">
        <div class="form-group col-md-4">
          <input type="text" class="form-control" id="search_query" name='q' placeholder="search for" value="<%= searchbar.q %>">
        </div>
        <div class="form-group col-md-5">
          <select id="search_category" class="form-control" name='category'>
            <option selected>Categories...</option>
            <option value="cars">Car</option>
            <option value="furniture">Furniture</option>
            <option value="books">Book</option>
            <option value="electronics">Electronic</option>
            <option value="outdoor">Outdoor</option>
            <option value="toys">Toys</option>
            <option value="services">Services</option>
            <option value="apartments">Apartments</option>
          </select>
        </div>
        <div class="form-group col-md-1 col-sm-6">
          <input type="number" class="form-control" id="search_min" name='min' value="<%= searchbar.min %>">
          <small id="priceMinHelper" class="form-text text-muted">Min $</small>
        </div>
        <div class="form-group col-md-1 col-sm-6">
          <input type="number" class="form-control" id="search_max" name='max' value="<%= searchbar.max %>">
          <small id="priceMaxHelper" class="form-text text-muted">Max $</small>
        </div>
        <div class="form-group col-md-1">
          <button type="submit" class="btn btn-primary">Search</button>
      </div>
    </div>
  </form>
  <%}%>

  </body>
</html>
